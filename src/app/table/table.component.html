
<mat-form-field>
  <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter">
</mat-form-field>

<div class="mat-elevation-z8 ">
  <div class="table-container">
    <table mat-table [dataSource]="dataSource" matSort>

      <ng-container [matColumnDef]="columnName(column)" *ngFor="let column of columnDef; let i = index;">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> {{column.name}} </th>
        <td mat-cell *matCellDef="let row"
         [class.selectedrows]="FilledCell(column.name,row['id'])"
         [class.selectedcells]="FilledSelectedCell(column.name,row['id'])"
         (click)="SelectedCell(row['id'],column.name)"
         >
        
          {{row[column.name]}} 
          <ng-container *ngIf="complexView">
           <br> {{row['complexValue']}}
          </ng-container>

          <ng-container *ngIf="i==0 && SelectedRow(row['id'])">
          <div class="divColor" [style.backgroundColor]="getColorRow(row['id'])"></div>
          </ng-container>
        </td>
      </ng-container>



      

    <!-- <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> ID </th>
        <td mat-cell *matCellDef="let row"> <b>{{row.id}}</b> </td>
      </ng-container>

      <ng-container matColumnDef="progress">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Progress </th>
        <td mat-cell *matCellDef="let row" [class.selectedrows]="SRows(row.id, 'progress')"
          [class.selectedcells]="Cells(row.id,'progress')" (click)="SelectedCell(row.id,'progress')">
          {{row.progress}} </td>
      </ng-container>

      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Name </th>
        <td mat-cell *matCellDef="let row" [class.selectedrows]="SRows(row.id, 'name')"
          [class.selectedcells]="Cells(row.id,'name')" (click)="SelectedCell(row.id,'name')"> {{row.name}} </td>
      </ng-container>

      <ng-container matColumnDef="color">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Color </th>
        <td mat-cell *matCellDef="let row" [style.color]="row.color"> {{row.color}} </td>
      </ng-container> -->

      <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;">
      </tr>

    </table>
  </div>
  <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
</div>

